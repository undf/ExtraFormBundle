{% macro ng_model(form, name) %}
    {% spaceless %}
        {% set ngModel = name|default(form.vars.name) %}
        {% if form.parent %}
            {{ _self.ng_model(form.parent, form.parent.vars.name ~ '.' ~ ngModel) }}
        {% else %}
            {{ ngModel }}
        {% endif %}
    {% endspaceless %}
{% endmacro %}

{% macro root_name(form) %}
    {% spaceless %}
        {% set name = form.vars.name %}
        {% if form.parent %}
            {{ _self.root_name(form.parent) }}
        {% else %}
            {{ name }}
        {% endif %}
    {% endspaceless %}
{% endmacro %}
